<div class="container_nav">
  <div class="btn_navbar" id="primary-nav">
    <%= link_to "Portfolio.", root_path, class: "btn_nav2" %>

    <div class="a_propos">
      <%= link_to "Profil", a_propos_path, class: "btn_nav #{current_page?(a_propos_path) ? 'active' : ''}" %>
    </div>

    <div class="Réalisation">
      <%= link_to "Réalisations", creations_path, class: "btn_nav #{current_page?(creations_path) ? 'active' : ''}" %>
    </div>

    <div class="Expériences">
      <%= link_to "Expériences", experiences_path, class: "btn_nav #{current_page?(experiences_path) ? 'active' : ''}" %>
    </div>

    <div class="Formation">
      <%= link_to "Formation", formation_path, class: "btn_nav #{current_page?(formation_path) ? 'active' : ''}" %>
    </div>

    <div class="Contact">
      <%= link_to "Contact", contact_path, class: "btn_nav #{current_page?(contact_path) ? 'active' : ''}" %>
    </div>
  </div>

  <!-- Bouton burger (remplace l'img) -->
  <button class="menu" id="menu-toggle" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="primary-nav">
    <span></span>
    <span></span>
    <span></span>
  </button>

  <% if controller_name == "creations" && action_name == "show" %>
    <%= link_to "Retour", creations_path, class: "back-link" %>
  <% end %>
</div>







<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  jQuery(function($){
    const $menuHamburger = $(".menu");
    const $navLinks = $(".btn_navbar");
    const $backButton = $(".back-link");

    // Ouverture/fermeture du menu + animation burger→croix
    $menuHamburger.on("click", function(){
      $(this).toggleClass("active");
      const isOpen = $(this).hasClass("active");
      $(this).attr("aria-expanded", isOpen ? "true" : "false");
      $navLinks.toggleClass("mobile-menu");
      if ($backButton.length) $backButton.toggleClass("hidden");
    });

    // Fermer le menu quand on clique sur un lien
    $navLinks.on("click", "a", function(){
      $navLinks.removeClass("mobile-menu");
      $menuHamburger.removeClass("active").attr("aria-expanded", "false");
      if ($backButton.length) $backButton.addClass("hidden");
    });

    // Effet sticky/expanded au scroll
    $(window).on("scroll", function(){
      if ($(this).scrollTop() > 80) {
        $(".container_nav").addClass("expanded");
      } else {
        $(".container_nav").removeClass("expanded");
      }
    });
  });
</script>

